if(!customElements.get("sht-lazy-load-dynamic-checkout-button")){class a extends HTMLElement{constructor(){super(),this.template=this.querySelector("template"),this.onLoadDynamicCheckoutButton=this.onHandleLoadDynamicCheckoutButton.bind(this),this.bindEventHandlers(),this.isMouseenter=!1,this.json=JSON.parse(document.querySelector('#shopify-features[type="application/json"]').textContent),Shopify.designMode?this.loadDynamicCheckoutButton():(window.addEventListener("scroll",this.onLoadDynamicCheckoutButton,!1),window.addEventListener("load",function(t){let e=setTimeout(function(){this.isMouseenter||(this.loadDynamicCheckoutButton(),clearTimeout(e)),this.isMouseenter=!0}.bind(this),3e3)}.bind(this)),["mouseover"].forEach(function(t){document.querySelector("body").addEventListener(t,this.onLoadDynamicCheckoutButton)}.bind(this)))}onHandleLoadDynamicCheckoutButton(t){this.isMouseenter||this.loadDynamicCheckoutButton(),t.currentTarget.removeEventListener(t.type,this.onLoadDynamicCheckoutButton),this.isMouseenter=!0}loadDynamicCheckoutButton(){new IntersectionObserver((t,n)=>{t.forEach(t=>{var e;1!==t.intersectionRatio||this.getAttribute("loaded")||(t=this.template.content.firstElementChild.cloneNode(!0),(e=document.createElement("script")).src=this.json.smart_payment_buttons_url,e.setAttribute("data-source-attribute","shopify.dynamic_checkout.product.init"),this.parentNode.insertBefore(t,this.nextSibling),this.parentNode.insertBefore(e,this.nextSibling),this.setAttribute("loaded",!0),n.unobserve(this))})},{root:null,rootMargin:"50px 0px",threshold:0}).observe(this)}bindEventHandlers(){}}customElements.define("sht-lazy-load-dynamic-checkout-button",a)}