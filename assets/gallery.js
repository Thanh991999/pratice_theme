if(!customElements.get("sht-gallery-slide")){class a extends HTMLElement{constructor(){super(),this.dialog=document.querySelector("sht-dialog#"+this.dataset.galleryDialogId),this.mediaId=this.dataset.mediaId,this.zoomElement=this.querySelector("sht-zoom"),this.gallery=this.closest("sht-gallery")}init(){this.dialog.addEventListener("closing",e=>{this.classList.add("d-none"),this.classList.remove("is-active-gallery-slide","d-flex"),this.zoomElement&&this.zoomElement.reset(),this.gallery.pauseAllVideo()})}connectedCallback(){this.init()}disconnectedCallback(){}}customElements.define("sht-gallery-slide",a)}if(!customElements.get("sht-gallery-slides")){class c extends HTMLElement{constructor(){super(),this.gallery=this.closest("sht-gallery"),this.dialog=document.querySelector("sht-dialog#"+this.gallery.dataset.galleryDialogId),this.slides=this.querySelectorAll(".js-gallery-slide"),this.totalSlides=this.slides.length,this.prevBtnElement=this.querySelector(".js-slide-prev-btn"),this.nextBtnElement=this.querySelector(".js-slide-next-btn"),this.currentSlideElement=this.querySelector(".js-slide-current"),this.totalElement=this.querySelector(".js-slide-total"),this.paginationElement=this.querySelector(".js-slide-pagination"),this.currentIndex=1}init(){this.dialog.addEventListener("opening",s=>{try{this.slides.forEach(e=>{var t;if(e.dataset.mediaId==s.detail.opener.dataset.dialogMediaId)throw e.classList.remove("d-none"),e.classList.add("is-active-gallery-slide","d-flex"),(t=e.querySelector("sht-zoom"))&&t.init(),this.currentIndex=e.dataset.itemIndex,"done"})}catch(s){}this.updateNavigation()}),this.bindEventHandlers()}updateNavigation(){this.currentSlideElement.textContent=this.currentIndex,this.totalElement.textContent=this.totalSlides,this.currentIndex<=1?this.prevBtnElement.setAttribute("disabled","disabled"):this.prevBtnElement.removeAttribute("disabled"),this.currentIndex>=this.totalSlides?this.nextBtnElement.setAttribute("disabled","disabled"):this.nextBtnElement.removeAttribute("disabled"),1<this.totalSlides&&(this.paginationElement?.classList.remove("d-none"),this.paginationElement?.classList.add("d-flex")),this.totalSlides<=1&&(this.paginationElement?.classList.remove("d-flex"),this.paginationElement?.classList.add("d-none"))}connectedCallback(){this.init()}disconnectedCallback(){}bindEventHandlers(){this.prevBtnElement.addEventListener("click",this.onButtonClick.bind(this)),this.nextBtnElement.addEventListener("click",this.onButtonClick.bind(this))}onButtonClick(e){e.preventDefault();e=e.currentTarget.name.toLowerCase();this.showSlides(e)}showSlides(e){this.currentElement=this.querySelector(`[data-item-index="${this.currentIndex}"]`),this.currentElement&&(t=this.currentElement.querySelector("sht-zoom"))&&t.reset(),this.slides.forEach(e=>{e.classList.remove("is-active-gallery-slide","d-flex"),e.classList.add("d-none")}),"next"===e&&(this.currentIndex=parseInt(this.currentIndex)+1,this.currentElement=this.querySelector(`[data-item-index="${this.currentIndex}"]`),this.currentElement.classList.add("is-active-gallery-slide","d-flex"),this.currentElement.classList.remove("d-none")),"previous"===e&&(this.currentIndex=parseInt(this.currentIndex)-1,this.currentElement=this.querySelector(`[data-item-index="${this.currentIndex}"]`),this.currentElement.classList.add("is-active-gallery-slide","d-flex"),this.currentElement.classList.remove("d-none")),this.currentSlideElement.textContent=this.currentIndex,this.updateNavigation();var t=this.currentElement.querySelector("sht-zoom");this.gallery.playActiveVideo(this.currentElement),this.gallery.playActiveModel(this.currentElement),t&&t.init()}}customElements.define("sht-gallery-slides",c)}if(!customElements.get("sht-gallery")){class m extends HTMLElement{constructor(){super(),this.dialog=document.querySelector("sht-dialog#"+this.dataset.galleryDialogId),this.querySelectorAll(".js-gallery-button-thumb").forEach(e=>{e.addEventListener("click",this.setActiveMedia.bind(this,e))}),this.thumbCarousel=this.querySelector("sht-horizontal-carousel")}init(){this.dialog.addEventListener("opening",t=>{try{window.SHTProductMediaItemModel&&window.SHTProductMediaItemModel.loadShopifyXR(),this.querySelectorAll(".js-gallery-thumb").forEach(e=>{if(e.dataset.mediaTargetId==t.detail.opener.dataset.dialogMediaId)throw e.classList.add("is-active-gallery-thumb"),this.scrollToThumb(e.dataset.mediaTargetId),"done"})}catch(t){}}),this.dialog.addEventListener("closing",e=>{this.querySelectorAll(".js-gallery-thumb").forEach(e=>{e.classList.remove("is-active-gallery-thumb")})})}scrollToThumb(e){e=this.thumbCarousel.querySelector(`[data-media-target-id="${e}"]`);e&&this.thumbCarousel.querySelector(".js-carousel-items").scrollTo({left:e.offsetLeft,behavior:"auto"})}setActiveMedia(e){var t=this.querySelector("sht-gallery-slide.is-active-gallery-slide"),t=(t&&(t=t.querySelector("sht-zoom"))&&t.reset(),this.querySelector(`[data-media-id="${e.dataset.target}"]`)),s=t.querySelector("sht-zoom"),e=e.closest("sht-horizontal-carousel-item");this.querySelectorAll(".js-gallery-slide").forEach(e=>{e.classList.remove("is-active-gallery-slide","d-flex"),e.classList.add("d-none")}),this.querySelectorAll(".js-gallery-thumb").forEach(e=>{e.classList.remove("is-active-gallery-thumb")}),t.classList.add("is-active-gallery-slide","d-flex"),t.classList.remove("d-none"),e.classList.add("is-active-gallery-thumb"),this.playActiveVideo(t),this.playActiveModel(t),s&&s.init()}pauseAllVideo(){this.querySelectorAll(".js-media-item-youtube").forEach(e=>{e.contentWindow.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}),this.querySelectorAll(".js-media-item-vimeo").forEach(e=>{e.contentWindow.postMessage('{"method":"pause"}',"*")}),this.querySelectorAll(".js-media-item-video").forEach(e=>e.pause())}playActiveVideo(e){this.pauseAllVideo();e=e.querySelector(".js-product-media-deferred-video");e&&e.loadContent()}playActiveModel(e){e=e.querySelector(".js-product-media-deferred-model");e&&e.loadContent()}connectedCallback(){this.init()}disconnectedCallback(){}}customElements.define("sht-gallery",m)}