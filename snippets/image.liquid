{% comment %}
    Renders image with lazyload

    Accepts:
    - image_item: {Object} Image object.
    - src: {String} The relative URL of the image.
    - image_wrap_classes: {String} Custom image wrap css classes.
    - image_classes: {String} Custom image css classes.
    - ratio: {Number} The aspect ratio of the image as a decimal.

    Example usage:
    {% render 'image',
      image_item: media,
      src: block.settings.image.src,
      image_wrap_classes: 'custom-wrap-image-class',
      image_classes: 'custom-image-class',
      ratio: '3/2'
    %}
{% endcomment %}

<noscript>
  {{ image_item }}
</noscript>
<sht-image class="js-wrap-image-lazy no-js-hidden d-block o-hidden {{ image_wrap_classes }}">
  <sht-image-atf class="d-block p-relative {{ image_classes }}" {% if ratio %}style="--ratio: {{ ratio }}"{% endif %}>
   {{ image_item | replace: "srcset=", "data-srcset=" | replace: "src=", "data-src=" | replace: "placeholder=", "src=" | replace: 'class="', 'src="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" class="' }}
  </sht-image-atf>
</sht-image>